# Сервис управления рассылками сообщений, администрирования и получения статистики по ним


[1. Цель проекта](#title1) / 
[2. Модели](#title2) / 
[3. Админки](#title3) /
[4. Контроллеры](#title4) / 

[8. Установка проекта](#title8) / 
[9. Получение ключей .env](#title9) / 
[10. Описание файла .flake8](#title10) / 




# <a id="title1">1. Цель проекта</a>
Чтобы удержать текущих клиентов бизнеса, часто используются вспомогательные, или "прогревающие" рассылки для информирования и привлечения.

Необходимо создать веб-приложение на Django, которое позволяет пользователям управлять рассылками сообщений для клиентов. Приложение включает функциональность для создания, просмотра, редактирования и удаления рассылок, а также отправки сообщений по требованию.




# <a id="title2">2. Описание моделей (models)</a>

## _Приложение "app_mailing" (app_mailing/models.py):_

1) Модель данных `Recipient(models.Model)` - представляет "Получателя рассылки" в сервисе управления рассылками.
   - ***Поля модели:***
     - Почта получателя (email).
     - Ф.И.О. получателя (full_name).
     - Комментарий (comment).

2) Модель данных `Message(models.Model)` - представляет "Сообщение рассылки" в сервисе управления рассылками.
   - ***Поля модели:***
     - Тема письма (message_subject).
     - Тело письма (message_body).

3) Модель данных `Mailing(models.Model)` - представляет "Рассылку" в сервисе управления рассылками.
   - ***Поля модели:***
     - Дата и время первой отправки (first_message_sending).
     - Дата и время окончания отправки (end_message_sending).
     - Статус рассылки (status):
       - Доступные варианты статусов:
         - *Создана* - рассылка была создана, но еще ни разу не была отправлена.
         - *Запущена* - рассылка активна и была отправлена хотя бы один раз.
         - *Завершена* - время окончания отправки рассылки прошло.
     - Сообщение для рассылки (message) - внешний ключ на модель "Сообщение" (*models.ForeignKey(to=Message)*).
     - Получатели для рассылки (mailing_recipients) - "многие ко многим", связь с моделью "Получатель" (*models.ManyToManyField(to=Recipient)*).




# <a id="title3">3. Описание админок (admin)</a>

## _Приложение "app_mailing" (app_mailing/admin.py):_

1) Админка `CourseAdmin(admin.ModelAdmin)` - отображение данных модели Курса (Course) в админке.




# <a id="title4">4. Описание контроллеров (views)</a>

## _Приложение "app_mailing" (app_mailing/views.py):_

1) Класс-контроллер `CourseViewSet(viewsets.ModelViewSet)` - автоматический CRUD для модели Course.
   - на основе ***ModelViewSet*** - это компонент Django REST для эффективного управления API-ресурсами и уменьшения объема кода.

    


# <a id="title8">8. Установка проекта</a>
1. Клонируйте репозиторий:
   ```
   git clone https://github.com/MaksimLakovich/Coursework-4-Mailing-management-service.git
   ```
2. Установите зависимости:
   ```
   poetry install
   ```
3. Заполните файл `.env` по примеру `.env.example`




# <a id="title9">9. Получение ключей. Описание файла .env.example</a> 
1. Создайте файл .env в корне проекта из копии подготовленного файла `.env.example`, в котором описаны названия всех переменных, необходимых для работы приложения.
2. Замените значения переменных реальными данными.
3. В модуле `settings.py` существует секретный ключ `SECRET_KEY`, который рекомендуется в целях безопасности хранить в тайне:
4. Файл .env должен содержать данные:
```dotenv
# Настройки секретного ключа проекта django в config/settings.py
#Django рекомендует в целях безопасности хранить секретный ключ, используемый в продакшене, в тайне!
SECRET_KEY_FOR_PROJECT=secret_key_here

# Настройки дебага.
# В settings.py дебаг должен быть описан так: DEBUG = True if os.getenv('DEBUG') == 'True' else False
DEBUG=

# Настройки БД проекта django в config/settings.py
DATABASE_NAME=
DATABASE_USER=
DATABASE_PASSWORD=
DATABASE_HOST=
DATABASE_PORT=
```




# <a id="title10">10. Описание файла .flake8</a> 
```ini
[flake8]
max-line-length = 119
ignore = E203, W503
exclude = .git, __pycache__, venv, .venv
```




# <a id="title11">11. Описание файла mypy.ini</a> 
```ini
[mypy]
ignore_missing_imports = True
```
